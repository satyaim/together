(this.webpackJsonptogether=this.webpackJsonptogether||[]).push([[0],{46:function(t,e,n){},80:function(t,e){},85:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(38),i=n.n(o),s=(n(46),n(9)),r=n(10),l=n(12),u=n(11),h=n(13),d=n.n(h),j=n(39),b=n.n(j),p=n(14),g=n.n(p),f=b()("http://localhost:3030"),m=g()();m.configure(g.a.socketio(f)),m.configure(g.a.authentication({storage:window.localStorage}));var O=m,v=n(40),x=n(0),y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={},a}return Object(r.a)(n,[{key:"updateField",value:function(t,e){this.setState(Object(v.a)({},t,e.target.value))}},{key:"login",value:function(){var t=this,e=this.state,n=e.email,a=e.password;return O.authenticate({strategy:"local",email:n,password:a}).catch((function(e){return t.setState({error:e})}))}},{key:"signup",value:function(){var t=this,e=this.state,n=e.email,a=e.password;return O.service("users").create({email:n,password:a}).then((function(){return t.login()}))}},{key:"render",value:function(){var t=this;return Object(x.jsxs)("main",{className:"login container",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-12 col-6-tablet push-3-tablet text-center heading",children:[Object(x.jsx)("h1",{className:"font-100",children:"Log in or signup"}),Object(x.jsx)("p",{children:this.state.error&&this.state.error.message})]})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-12 col-6-tablet push-3-tablet col-4-desktop push-4-desktop",children:Object(x.jsxs)("form",{className:"form",children:[Object(x.jsx)("fieldset",{children:Object(x.jsx)("input",{className:"block",type:"email",name:"email",placeholder:"email",onChange:function(e){return t.updateField("email",e)}})}),Object(x.jsx)("fieldset",{children:Object(x.jsx)("input",{className:"block",type:"password",name:"password",placeholder:"password",onChange:function(e){return t.updateField("password",e)}})}),Object(x.jsx)("button",{type:"button",className:"button button-primary block signup",onClick:function(){return t.login()},children:"Log in"}),Object(x.jsx)("button",{type:"button",className:"button button-primary block signup",onClick:function(){return t.signup()},children:"Signup"})]})})})]})}}]),n}(a.Component),k=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).handleVideoUpload=function(t){console.log(URL.createObjectURL(t.target.files[0]),d.a.canPlay(URL.createObjectURL(t.target.files[0]))),a.setState({canPlay:d.a.canPlay(URL.createObjectURL(t.target.files[0]))}),a.setState({videoFilePath:URL.createObjectURL(t.target.files[0])})},a.state={videoFilePath:"",canPlay:!1},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;console.log("did mount()"),O.authenticate().catch((function(){return t.setState({login:null})})),O.on("authenticated",(function(e){console.log("authenticated",e),t.setState({login:e})}))}},{key:"render",value:function(){return this.state.login?Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"file",onChange:this.handleVideoUpload}),Object(x.jsx)(d.a,{url:this.state.videoFilePath,width:"100%",height:"100%",controls:!0,onError:function(t){return console.log("onError",t)}})]}):Object(x.jsx)(y,{})}}]),n}(c.a.Component),w=function(t){t&&t instanceof Function&&n.e(16).then(n.bind(null,99)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),o(t),i(t)}))};i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),w()}},[[85,14,15]]]);
//# sourceMappingURL=main.61a93c98.chunk.js.map